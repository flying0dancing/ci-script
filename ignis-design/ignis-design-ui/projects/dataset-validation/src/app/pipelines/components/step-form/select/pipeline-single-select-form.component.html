<div [formGroup]="formGroup">
  <mat-card class="select-card-container" *ngIf="formGroupControls.outputField.value">
    <dv-pipeline-select-editor
      class="e2e-create-pipeline-step-select-input"
      [editorControl]="formGroupControls.select"
      [editorLabel]="formGroupControls.outputField.value.name"
      [schemas]="inputSchemas"
      [error]="!!selectResult"
    >
    </dv-pipeline-select-editor>

    <div class="intermediate-container">

      <mat-checkbox
        [formControlName]="formControlNames.intermediateResult"
        class="is-intermediate-checkbox"
      >
        Intermediate Result
      </mat-checkbox>

      <dv-inline-edit class="order-container"
                      [ngClass]="formGroupControls.intermediateResult.value ? '' : 'hidden-order'"
                      *ngIf="showOrder"
                      label="Order"
                      [required]="true"
                      type="number"
                      [initialValue]="formGroupControls.order.value"
                      [editFunction]="editOrderFn"
      >
      </dv-inline-edit>
    </div>

    <button
      matTooltip="Open in dialog"
      mat-icon-button
      [disabled]="formGroup.disabled"
      (click)="expand(displayIndex, formGroupControls.outputField.value)"
      class="expand-select-button"
    >
      <mat-icon>open_in_new</mat-icon>
    </button>

    <ul class="error-list">
      <li *ngFor="let err of (!selectResult ? []: selectResult.errors)">
        <b>{{ err.errorCode }}</b> -
        <p *ngFor="let errorMessageLine of newLineToArray(err.errorMessage)">
          {{errorMessageLine}} <br/>
        </p>
      </li>
    </ul>
  </mat-card>
</div>
